(this["webpackJsonphnc-predictor"]=this["webpackJsonphnc-predictor"]||[]).push([[0],{142:function(e,t,n){},143:function(e,t,n){},164:function(e,t,n){},168:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},171:function(e,t,n){},172:function(e,t,n){"use strict";n.r(t);n(137);var a=n(1),c=n.n(a),i=n(16),r=n.n(i),s=(n(142),n(5)),l=(n(143),n(11)),o=n(177),d=n(175),j=n(64),u=n(65),h=n(179),b=n(178),x=n(180),O=n(17),f=(n(164),n(0)),g=function(e){var t=e.onButtonClick,n=e.ageRef,c=e.perfScoreRef,i=e.packRef,r=e.siteRef,l=e.tRef,o=e.nRef,d=e.hpvRef,j=e.stage,g=e.stageUpdate,p=Object(a.useState)(!1),v=Object(s.a)(p,2),m=v[0],y=v[1],k=function(){return y(!1)};return Object(f.jsx)(u.a,{className:"d-flex justify-content-start",md:"2",children:Object(f.jsxs)(h.a,{id:"inputback",className:"formPadding",children:[Object(f.jsx)("h4",{children:"Input Variables"}),Object(f.jsx)("h6",{id:"textIndent",children:"Patient Specifics"}),Object(f.jsxs)(h.a.Group,{controlId:"formGridState",id:"space",children:[Object(f.jsx)(h.a.Label,{children:"Age"}),Object(f.jsxs)(h.a.Select,{defaultValue:"65-75",ref:n,id:"indent",children:[Object(f.jsx)("option",{value:"<55",children:" < 55 "}),Object(f.jsx)("option",{value:"55-65",children:" 55 - 65 "}),Object(f.jsx)("option",{value:"65-75",children:" 65 - 75 "}),Object(f.jsx)("option",{value:">75",children:" > 75"})]})]}),Object(f.jsxs)(h.a.Group,{controlId:"formGridState",id:"space",children:[Object(f.jsx)(h.a.Label,{children:"Performance Score"}),Object(f.jsxs)(h.a.Select,{defaultValue:"0",ref:c,id:"indent",children:[Object(f.jsx)("option",{value:"0",children:"0"}),Object(f.jsx)("option",{value:"1",children:"1"}),Object(f.jsx)("option",{value:">2",children:"> 2"})]})]}),Object(f.jsxs)(h.a.Group,{controlId:"formGridState",id:"space",children:[Object(f.jsx)(h.a.Label,{children:"Pack Years"}),Object(f.jsxs)(h.a.Select,{defaultValue:"25-50",ref:i,id:"indent",children:[Object(f.jsx)("option",{value:"<5",children:" < 5 "}),Object(f.jsx)("option",{value:"5-25",children:" 5 - 25"}),Object(f.jsx)("option",{value:"25-50",children:" 25 - 50 "}),Object(f.jsx)("option",{value:">50",children:" > 50 "})]})]}),Object(f.jsx)("h6",{id:"space",children:"Tumor Specifics"}),Object(f.jsxs)(h.a.Group,{controlId:"formGridState",id:"space",children:[Object(f.jsx)(h.a.Label,{children:"Tumor Site"}),Object(f.jsxs)(h.a.Select,{defaultValue:"OPC",ref:r,id:"indent",onChange:g,children:[Object(f.jsx)("option",{value:"OPC",children:" OPC "}),Object(f.jsx)("option",{value:"Hypopharynx",children:" Hypopharynx "}),Object(f.jsx)("option",{value:"Oral Cavity",children:" Oral Cavity "}),Object(f.jsx)("option",{value:"Larynx",children:" Larynx "}),Object(f.jsx)("option",{value:"Nasopharynx",children:" Nasopharynx "})]})]}),Object(f.jsxs)(h.a.Group,{children:[Object(f.jsx)(h.a.Label,{id:"space",children:"T Stage"}),Object(f.jsx)("br",{}),Object(f.jsx)(h.a.Check,{inline:!0,label:"T1",name:"TGroup",type:"radio",id:"inline-radio-1",value:"T1",onChange:l,className:"radin"}),Object(f.jsx)(h.a.Check,{inline:!0,label:"T2",name:"TGroup",type:"radio",id:"inline-radio-2",value:"T2",onChange:l}),Object(f.jsx)(h.a.Check,{inline:!0,label:"T3",name:"TGroup",type:"radio",id:"inline-radio-3",value:"T3",onChange:l,defaultChecked:!0}),Object(f.jsx)(h.a.Check,{inline:!0,label:"T4",name:"TGroup",type:"radio",id:"inline-radio-4",value:"T4",onChange:l,className:"radin",defaultChecked:!0})]}),Object(f.jsxs)(h.a.Group,{children:[Object(f.jsx)(h.a.Label,{id:"space",children:"N Stage"}),Object(f.jsx)("br",{}),Object(f.jsx)(h.a.Check,{inline:!0,label:"N0",name:"NGroup",type:"radio",id:"inline-radio-1",value:"N0",onChange:o,className:"radin"}),Object(f.jsx)(h.a.Check,{inline:!0,label:"N1",name:"NGroup",type:"radio",id:"inline-radio-2",value:"N1",onChange:o}),Object(f.jsx)(h.a.Check,{inline:!0,label:"N2a-b",name:"NGroup",type:"radio",id:"inline-radio-3",value:"N2a-b",onChange:o,defaultChecked:!0}),Object(f.jsx)(h.a.Check,{inline:!0,label:"N2c",name:"NGroup",type:"radio",id:"inline-radio-4",value:"N2c",onChange:o,className:"radin",defaultChecked:!0}),Object(f.jsx)(h.a.Check,{inline:!0,label:"N3",name:"NGroup",type:"radio",id:"inline-radio-5",value:"N3",onChange:o})]}),Object(f.jsxs)(h.a.Group,{controlId:"formGridState",id:"space",children:[Object(f.jsx)(h.a.Label,{children:"HPV Status"}),Object(f.jsxs)(h.a.Select,{defaultValue:"Positive",ref:d,id:"indent",onChange:g,children:[Object(f.jsx)("option",{value:"Positive",children:" Positive "}),Object(f.jsx)("option",{value:"Negative",children:"Negative"})]})]}),Object(f.jsx)("br",{}),null!==j&&Object(f.jsxs)("div",{id:"textIndent",children:["AJCC",Object(f.jsx)("sup",{children:"8th"})," stage:  ",Object(f.jsx)("b",{children:j})," ",Object(f.jsx)(O.a,{onClick:function(){return y(!0)}}),Object(f.jsxs)(b.a,{show:m,onHide:k,children:[Object(f.jsx)(b.a.Header,{closeButton:!0,children:Object(f.jsxs)(b.a.Title,{children:["AJCC",Object(f.jsx)("sup",{children:"8th"})," stage"]})}),Object(f.jsxs)(b.a.Body,{children:["This AJCC ",Object(f.jsx)("sup",{children:"8th"})," staging is generated from the T-stage, N-stage, tumor site and HPV-status input with in-house developed algorithm. Details can be found in the supplementary data of the manuscript [link_to_paper]"]}),Object(f.jsx)(b.a.Footer,{children:Object(f.jsx)(x.a,{variant:"secondary",onClick:k,children:"Close"})})]})]}),Object(f.jsx)("br",{}),Object(f.jsx)(x.a,{variant:"primary",onClick:t,id:"textIndent",children:"Submit"})]})})},p=function(e){var t=e.xScale,n=e.yScale,a=e.scaleOffset,i=e.innerHeight,r=t.range(),l=Object(s.a)(r,2),o=l[0],d=l[1],j=n.range(),u=Object(s.a)(j,2)[1],h=t.ticks();return Object(f.jsxs)("g",{transform:"translate(0, ".concat(i,")"),children:[Object(f.jsx)("line",{className:"axisLine",x1:o,x2:d,y1:u,y2:u}),Object(f.jsx)("g",{className:"ticks",children:h.map((function(e,n){var i=t(e);return Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)("line",{x1:i,x2:i,y1:u,y2:u+a}),Object(f.jsx)("text",{x:i,y:u+5*a,children:e})]},n)}))})]})},v=function(e){var t=e.xScale,n=e.yScale,a=e.innerHeight,c=e.innerWidth,i=e.xAxisLabelOffset,r=e.xAxisLabel,s=e.scaleOffset;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(p,{xScale:t,yScale:n,scaleOffset:s,innerHeight:a}),Object(f.jsx)("text",{className:"axis-label",x:c/2,y:a+i,textAnchor:"middle",children:r})]})},m=function(e){var t=e.xScale,n=e.yScale,a=e.scaleOffset,i=t.range(),r=Object(s.a)(i,1)[0],l=n.range(),o=Object(s.a)(l,2),d=o[0],j=o[1],u=n.ticks();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("line",{className:"axisLine",x1:r,x2:r,y1:j,y2:d}),Object(f.jsx)("g",{className:"ticks",children:u.map((function(e,t){var i=n(e);return Object(f.jsxs)(c.a.Fragment,{children:[Object(f.jsx)("line",{x1:r,x2:r-a,y1:i,y2:i}),Object(f.jsx)("text",{x:r-4*a,y:i+1.25*a,children:100*e})]},t)}))})]})},y=function(e){var t=e.xScale,n=e.yScale,a=e.yAxisLabelOffset,c=e.yAxisLabel,i=e.scaleOffset,r=e.innerHeight;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m,{xScale:t,yScale:n,scaleOffset:i}),Object(f.jsx)("text",{className:"axis-label",textAnchor:"middle",transform:"translate(".concat(-a,", ").concat(r/2," )rotate(-90)"),children:c})]})},k=function(e){var t=e.classVal,n=e.data,a=e.xScale,c=e.yScale,i=e.color,r=e.time,s=e.onHover,o=e.hoverOut;return Object(f.jsx)("g",{className:"mark",children:Object(f.jsx)("path",{className:t,id:"line-plot",fill:"none",stroke:i,strokeWidth:"2px",onMouseEnter:function(){return s(t)},onMouseOut:function(){return o()},d:Object(l.a)().x((function(e,t){return a(r[t])})).y((function(e,t){return c(e)}))(n[0])})})},S=function(e){var t=e.onHover,n=e.clnames,a=e.hoverOut,c=(e.innerWidth,e.innerHeight),i=e.margin,r=e.legendOffset,s=e.legendSize,l=e.color,o=e.textPaddingX,d=e.textPaddingY,j=e.legend,u=e.i;return Object(f.jsxs)("g",{className:"legend",transform:"translate(0, ".concat(c-i.bottom,")"),onMouseEnter:function(){return t(n[u])},onMouseOut:function(){return a()},children:[Object(f.jsx)("rect",{x:i.right,y:r*u-10,width:s,height:s,fill:l(u)}),Object(f.jsx)("text",{x:o+i.right,y:d+r*u-10,children:"".concat(j[u])})]})},C=function(e){var t=e.data,n=e.clnames,a=e.xScale,c=e.yScale,i=e.color,r=e.time,s=e.onHover,l=e.hoverOut,o=e.innerWidth,d=e.innerHeight,j=e.margin,u=e.legendOffset,h=e.legendSize,b=e.textPaddingX,x=e.textPaddingY,O=e.legend;return t.map((function(e,t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(k,{classVal:n[t],data:e,xScale:a,yScale:c,color:i(t),time:r,onHover:s,hoverOut:l},t),Object(f.jsx)(S,{onHover:s,clnames:n,hoverOut:l,innerWidth:o,innerHeight:d,margin:j,legendOffset:u,legendSize:h,color:i,textPaddingX:b,textPaddingY:x,legend:O,i:t})]})}))},N=(n(174),n(168),n(169),82),T=30,w=20,R=10,H=function(e){var t=e.head,n=e.topic,a=e.time,i=e.data,r=(e.color,e.xScale),l=e.yScale,o=e.textScale,d=e.mar,j=e.lineHeight,u=e.onHover,h=e.hoverOut,b=e.clnames,x=r.range(),O=Object(s.a)(x,2),g=O[0],p=O[1],v=l.range(),m=(Object(s.a)(v,2)[1],r.ticks()),y=r(m[0])+T+2-(g-N-R),k=o.range(),S=Object(s.a)(k,2),C=S[0],H=S[1];return Object(f.jsxs)("g",{id:"rowGroup",transform:"translate(0, ".concat(d,")"),role:"table",children:[n.map((function(e,n){var s=o(n);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("rect",{x:g-N-R,y:s-T,width:y,height:j+8,fill:"white",onMouseEnter:function(){return u(b[n])},onMouseOut:function(){return h()}}),Object(f.jsx)("line",{x1:g-N-R,x2:p+w+8,y1:s-T,y2:s-T,stroke:"black",strokeWidth:1}),Object(f.jsx)("text",{x:g,y:s,fontSize:"1em",textAnchor:"middle",role:"row",children:t.map((function(t,s){var l=r(s);if(0===s)return Object(f.jsx)("tspan",{x:l-w-10,role:"cell",stroke:"black",strokeWidth:.5,onMouseEnter:function(){return u(b[n])},onMouseOut:function(){return h()},children:e});var o=a.indexOf(t),d=100*i[n][0][o];return d=Math.round(d),Object(f.jsx)(c.a.Fragment,{children:Object(f.jsx)("tspan",{x:l,role:"cell",children:d})},s)}))})]})})),Object(f.jsx)("line",{x1:g-N-R,x2:p+w+8,y1:H+8+j-T,y2:H+8+j-T,stroke:"black",strokeWidth:1}),Object(f.jsxs)("g",{children:[Object(f.jsx)("line",{x1:g+T+2+R,x2:g+T+2+R,y1:H+8+j+2-T,y2:H+8+j+R-T,stroke:"black",strokeWidth:1.5}),Object(f.jsx)("line",{x1:p+w,x2:p+w,y1:H+8+j+2-T,y2:H+8+j+R-T,stroke:"black",strokeWidth:1.5}),Object(f.jsx)("line",{x1:g+T+2+R,x2:p+w,y1:H+8+j+R-T,y2:H+8+j+R-T,stroke:"black",strokeWidth:1.5}),Object(f.jsx)("line",{x1:r(4)+T-2,x2:r(4)+T-2,y1:H+8+j+R-T,y2:H+8+j-10,stroke:"black",strokeWidth:1.5}),Object(f.jsx)("text",{className:"axis-label",x:r(5)-15,y:H+8+j+7,textAnchor:"middle",children:"Cumulative Probability (%)"})]}),Object(f.jsxs)("g",{children:[Object(f.jsx)("line",{x1:-g-N-R+3,x2:-g-N-R+3,y1:C-T,y2:H+8+j-T,stroke:"black",strokeWidth:1}),m.map((function(e,t){var n=r(e);return 0===t?Object(f.jsx)(c.a.Fragment,{children:Object(f.jsx)("line",{x1:n+T+2,x2:n+T+2,y1:C-T,y2:H+8+j-T,stroke:"black",strokeWidth:1})},t):Object(f.jsx)(c.a.Fragment,{children:Object(f.jsx)("line",{x1:n+T-2,x2:n+T-2,y1:C-T,y2:H+8+j-T,stroke:"black",strokeWidth:1})},t)}))]})]})},I=(n(170),function(e){e.width,e.margin;var t=e.xScale,n=e.yScale,a=e.scaleOffset,i=e.innerHeight,r=e.dotOffset,l=e.lineHeight,o=t.range(),d=Object(s.a)(o,2),j=(d[0],d[1],n.range()),u=Object(s.a)(j,2)[1],h=t.ticks();return Object(f.jsx)("g",{transform:"translate(0, ".concat(i+r,")"),children:Object(f.jsx)("g",{className:"ticks",children:h.map((function(e,n){if(0!==e){var i=t(e);return Object(f.jsx)(c.a.Fragment,{children:Object(f.jsx)("text",{x:i,y:u+l+5*a,children:e})},n)}}))})})}),P={top:20,right:30,bottom:65,left:90},L=["Overall Survival","Local Control","Regional Control"],G=["overall","local","region"],F=[0,1,2,3,4,5,6,7,8,9,10],W=function(e){var t=e.data,n=e.time,c=e.windowHeight,i=e.windowWidth/2,r=c-50,o=c/1.75-P.top-P.bottom,j=i-P.left-P.right,h=o+50+10+P.bottom,g=Object(l.b)().domain([0,2]).range([0,205-P.bottom-P.top]),p=Object(l.b)().domain([0,10]).range([0,j]),m=Object(l.b)().domain([0,1]).range([o,0]),k=Object(l.c)().domain([0,1]).range(["#984ea3","#377eb8","#d95f02"]),S=function(e){l.e("#line-plot").style("opacity",.2),l.d(".".concat(e)).style("opacity",1)},N=function(){l.e("#line-plot").style("opacity",1)},T=Object(a.useState)(!1),w=Object(s.a)(T,2),R=w[0],W=w[1],A=function(){return W(!1)};return Object(f.jsx)(u.a,{className:"linePlot",md:"6",id:"outback",children:Object(f.jsx)(d.a,{children:Object(f.jsxs)(u.a,{md:"12",style:{paddingLeft:"0px"},children:[Object(f.jsxs)("h4",{className:"d-flex justify-content-center",children:["Outcome Prediction ",Object(f.jsx)(O.a,{onClick:function(){return W(!0)}})]}),Object(f.jsxs)(b.a,{show:R,onHide:A,children:[Object(f.jsx)(b.a.Header,{closeButton:!0,children:Object(f.jsx)(b.a.Title,{children:"Outcome Prediction"})}),Object(f.jsx)(b.a.Body,{children:"The outcome curves are based on the clinical models developed and validated on an international dataset > 4500 patients [link_to_paper]"}),Object(f.jsx)(b.a.Footer,{children:Object(f.jsx)(x.a,{variant:"secondary",onClick:A,children:"Close"})})]}),Object(f.jsx)("svg",{width:i,height:r,children:Object(f.jsxs)("g",{transform:"translate(".concat(P.left,", ").concat(P.top,")"),children:[Object(f.jsx)(v,{xScale:p,yScale:m,innerHeight:o,innerWidth:j,xAxisLabelOffset:50,xAxisLabel:"Time (years)",scaleOffset:5}),Object(f.jsx)(y,{xScale:p,yScale:m,yAxisLabelOffset:40,yAxisLabel:"Predicted Risk (%)",scaleOffset:5,innerHeight:o}),Object(f.jsx)(C,{data:t,clnames:G,xScale:p,yScale:m,color:k,time:n,onHover:S,hoverOut:N,innerWidth:j,innerHeight:o,margin:P,legendOffset:20,legendSize:10,textPaddingX:15,textPaddingY:10,legend:L}),Object(f.jsx)(I,{width:i,margin:P,xScale:p,yScale:m,scaleOffset:5,innerHeight:o,dotOffset:10,lineHeight:50}),Object(f.jsx)(H,{head:F,topic:L,time:n,data:t,color:k,width:i,xScale:p,yScale:m,margin:P,textScale:g,mar:h,lineHeight:50,onHover:S,hoverOut:N,clnames:G})]})})]})})})},A=n(181),V=n(66),B=n(176),M=n(44),_=(n(171),function(e){var t=e.lowRef,n=e.upRef,c=e.patientClass,i=e.riskCalculation,r=e.riskRef,l=Object(a.useState)("https://raw.githubusercontent.com/uic-evl/hnc-predictor/master/src/images/OS/OS_LT5_UT25.jpg"),o=Object(s.a)(l,2),j=o[0],g=o[1],p=function(){console.log(r.current.value),console.log(n.current.value),console.log(t.current.value);var e=r.current.value,a=t.current.value,c=n.current.value,i="https://raw.githubusercontent.com/uic-evl/hnc-predictor/master/src/images/".concat(e,"/OS_LT").concat(a,"_UT").concat(c,".jpg");g(i),M("#imageid").fadeOut("fast"),M("#imageid").fadeIn("slow")},v=Object(a.useState)(!1),m=Object(s.a)(v,2),y=m[0],k=m[1],S=function(){return k(!1)},C=Object(a.useState)(!1),N=Object(s.a)(C,2),T=N[0],w=N[1],R=function(){return w(!1)},H=Object(a.useState)(!1),I=Object(s.a)(H,2),P=I[0],L=I[1],G=function(){return L(!1)};return Object(f.jsxs)(u.a,{className:"strat",md:"4",id:"stratback",style:{marginLeft:"1%",width:"31%"},children:[Object(f.jsxs)(d.a,{children:[Object(f.jsx)("h4",{className:"d-flex justify-content-center",children:"Model-based Stratification"}),Object(f.jsx)(d.a,{children:Object(f.jsxs)(h.a.Group,{controlId:"formGridState",id:"selects",children:[Object(f.jsxs)(h.a.Label,{id:"riskFormLabel",children:["Select risk-thresholds ",Object(f.jsx)(O.a,{onClick:function(){return k(!0)}})]}),Object(f.jsxs)(h.a.Select,{defaultValue:"OS",ref:r,onChange:p,style:{fontSize:"0.9em"},children:[Object(f.jsx)("option",{value:"OS",children:" Overall Survival (OS) "}),Object(f.jsx)("option",{value:"LC",children:" Local Control (LC) "}),Object(f.jsx)("option",{value:"RC",children:" Regional Control (RC) "})]})]})}),Object(f.jsxs)(b.a,{show:y,onHide:S,children:[Object(f.jsx)(b.a.Header,{closeButton:!0,children:Object(f.jsx)(b.a.Title,{children:"Select risk-thresholds"})}),Object(f.jsxs)(b.a.Body,{children:["Please select the 2-year risk you select as threshold for low- and high-risk mortality, local and/or regional failure (n.b. these are the inverse of the survival/control risk displayed in the graph).",Object(f.jsx)("br",{}),"The default low- and high-risk thresholds are 5% and 25%, which are determined on the large-scale dataset, refer to [link_to_paper]"]}),Object(f.jsx)(b.a.Footer,{children:Object(f.jsx)(x.a,{variant:"secondary",onClick:S,children:"Close"})})]}),Object(f.jsx)(d.a,{children:Object(f.jsxs)(A.a,{size:"sm",id:"inputs",children:[Object(f.jsx)(A.a.Text,{id:"basic-addon1",children:"Low-risk threshold"}),Object(f.jsx)(V.a,{"aria-label":"lower","aria-describedby":"basic-addon1",id:"lowRef",ref:t,defaultValue:5}),Object(f.jsx)(A.a.Text,{id:"basic-addon1",children:"%"})]})}),Object(f.jsx)(d.a,{children:Object(f.jsxs)(A.a,{size:"sm",id:"inputs",children:[Object(f.jsx)(A.a.Text,{id:"basic-addon2",children:"High-risk threshold"}),Object(f.jsx)(V.a,{"aria-label":"upper","aria-describedby":"basic-addon2",id:"upRef",ref:n,defaultValue:25}),Object(f.jsx)(A.a.Text,{id:"basic-addon2",children:"%"})]})}),Object(f.jsx)(x.a,{variant:"primary",size:"sm",onClick:function(){i(),p()},style:{width:"15%",marginLeft:"56%"},id:"stratButton",children:"Submit"})]}),Object(f.jsxs)(d.a,{className:"survivalImage",children:[Object(f.jsx)(B.a,{src:j,id:"imageid"}),Object(f.jsx)(O.a,{id:"headerText",onClick:function(){return L(!0)}}),Object(f.jsxs)(b.a,{show:P,onHide:G,children:[Object(f.jsx)(b.a.Header,{closeButton:!0,children:Object(f.jsx)(b.a.Title,{children:"Cohort-based Overall Survival"})}),Object(f.jsx)(b.a.Body,{children:"This is a visualization of survival curve separation of patients with the low- and high-risk thresholds inputted above. These curves are based on the MDACC training+test cohort of 2106 head and neck cancer patients."}),Object(f.jsx)(b.a.Footer,{children:Object(f.jsx)(x.a,{variant:"secondary",onClick:G,children:"Close"})})]})]}),null!==c&&Object(f.jsxs)(d.a,{style:{marginLeft:"0%"},children:[Object(f.jsxs)("p",{children:[Object(f.jsxs)("b",{children:["The current patient is classified as: ",Object(f.jsx)(O.a,{onClick:function(){return w(!0)}})," "]})," ",Object(f.jsx)("br",{}),Object(f.jsxs)("b",{children:[c.overallRisk,"-risk"]})," for mortality (2y risk = ",c.overallPerc,"%) ",Object(f.jsx)("br",{}),Object(f.jsxs)("b",{children:[c.localRisk,"-risk"]})," for local tumor failure (2y risk = ",c.localPerc,"%) ",Object(f.jsx)("br",{}),Object(f.jsxs)("b",{children:[c.regionalRisk,"-risk"]})," for regional tumor failure (2y risk = ",c.regionalPerc,"%)"]}),Object(f.jsxs)(b.a,{show:T,onHide:R,children:[Object(f.jsx)(b.a.Header,{closeButton:!0,children:Object(f.jsx)(b.a.Title,{children:"Current Patient Classification"})}),Object(f.jsx)(b.a.Body,{children:"This classification is dependent on the thresholds inputted in the top of this panel"}),Object(f.jsx)(b.a.Footer,{children:Object(f.jsx)(x.a,{variant:"secondary",onClick:R,children:"Close"})})]})]})]})}),z=Array.from(function(e,t,n){for(var a=[],c=e;c<t;c+=n)a.push(+c.toFixed(1));return a}(0,10,.1)),E=z.indexOf(2),J="T4",U="N2c";var Y=function(){var e=function(){var e=Object(a.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){c({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),t=c.a.createRef(),n=c.a.createRef(),i=c.a.createRef(),r=c.a.createRef(),u=c.a.createRef(),h=c.a.createRef(),b=c.a.createRef(),x=c.a.createRef(),O=Object(a.useState)(null),p=Object(s.a)(O,2),v=p[0],m=p[1],y=Object(a.useState)(null),k=Object(s.a)(y,2),S=k[0],C=k[1],N=Object(a.useState)("III"),T=Object(s.a)(N,2),w=T[0],R=T[1],H=function(){var e={};if(v){var t,n;null===b.current?(t=l.d("#lowRef").node().value,n=l.d("#upRef").node().value):(t=b.current.value,n=x.current.value);var a=100*v[0][0][E],c=Math.round(100-a);e.overallRisk=c<t?"Low":c>=t&&c<=n?"Intermediate":"High",e.overallPerc=c;var i=100*v[1][0][E],r=Math.round(100-i);e.localRisk=r<t?"Low":r>=t&&r<=n?"Intermediate":"High",e.localPerc=r;var s=100*v[2][0][E],o=Math.round(100-s);e.regionalRisk=o<t?"Low":o>=t&&o<=n?"Intermediate":"High",e.regionalPerc=o,C(e)}},I=function(e){J=e.target.value,G()},P=function(e){U=e.target.value,G()},L=function(){console.log("i am clicked");var e={AGE:t.current.value,Performance_score:n.current.value,pack_years:i.current.value,site:r.current.value,T_stage:J,N_stage:U,"HPV.P16.status":u.current.value};Object(j.post)("https://risk-calculator.evl.uic.edu:8080/backend",{data:e}).then((function(e){e.data[0],e.data[1];var t=[e.data[2],e.data[3],e.data[4]];m(t)})).catch((function(e){console.log(e)}))},G=function(){var e=r.current.value,t=u.current.value;"OPC"===e&&"Positive"===t?["T0","T1","T2","Tx"].includes(J)&&["N0","N1","N2a-b"].includes(U)?R("I"):["T0","T1","T2","Tx"].includes(J)&&["N2c"].includes(U)||["T3"].includes(J)&&["N0","N1","N2a-b","N2c"].includes(U)?R("II"):(["T4"].includes(J)||["N3"].includes(U))&&R("III"):"OPC"===e&&"Negative"===t||["Oral Cavity","Hypopharynx","Larynx"].includes(e)?["N3"].includes(U)?R("IVb"):["T0","T1","Tx"].includes(J)&&["N0"].includes(U)?R("I"):["T2"].includes(J)&&["N0"].includes(U)?R("II"):["T1","T2","Tx"].includes(J)&&["N1"].includes(U)||["T3"].includes(J)&&["N0","N1"].includes(U)?R("III"):(["T4"].includes(J)||["N2a-b","N2c"].includes(U))&&R("IVa"):"Nasopharynx"===e?["T0","T1","Tx"].includes(J)&&["N0"].includes(U)?R("I"):["T0","T1","Tx"].includes(J)&&["N1"].includes(U)||["T2"].includes(J)&&["N0","N1"].includes(U)?R("II"):["T0","T1","Tx"].includes(J)&&["N2a-b","N2c"].includes(U)||["T2","T3"].includes(J)&&["N2a-b","N2c"].includes(U)||["T3"].includes(J)&&["N0","N1"].includes(U)?R("III"):(["T4"].includes(J)||["N3"].includes(U))&&R("IVa"):"unknown_primary"===e&&(["N1","N2a-b"].includes(U)?R("III"):["N2c"].includes(U)?R("IVa"):["N3"].includes(U)&&R("IVb"))};return Object(a.useEffect)((function(){H()}),[v]),v?Object(f.jsx)(o.a,{fluid:!0,className:"contain",children:Object(f.jsxs)(d.a,{children:[Object(f.jsx)(g,{onButtonClick:L,ageRef:t,perfScoreRef:n,packRef:i,siteRef:r,tRef:I,nRef:P,hpvRef:u,stage:w,stageUpdate:G,riskCalculation:H}),Object(f.jsx)(W,{data:v,time:z,windowHeight:e.height,windowWidth:e.width}),Object(f.jsx)(_,{riskCalculation:H,patientClass:S,lowRef:b,upRef:x,riskRef:h})]})}):Object(f.jsx)(o.a,{fluid:!0,children:Object(f.jsx)(d.a,{children:Object(f.jsx)(g,{onButtonClick:L,ageRef:t,perfScoreRef:n,packRef:i,siteRef:r,tRef:I,nRef:P,hpvRef:u,stage:w,stageUpdate:G,riskCalculation:H})})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,182)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(Y,{})}),document.getElementById("root")),X()}},[[172,1,2]]]);
//# sourceMappingURL=main.b2ac788e.chunk.js.map